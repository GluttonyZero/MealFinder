(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},86906,e=>{"use strict";e.s(["default",()=>i]);var t=e.i(47167),a=e.i(43476),s=e.i(71645),r=e.i(18566);let l=t.default.env.NEXT_PUBLIC_API_BASE_URL;function i(){let[e,t]=(0,s.useState)(""),[i,n]=(0,s.useState)(""),[d,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[m,h]=(0,s.useState)(!1),g=(0,r.useRouter)(),x=async t=>{if(t.preventDefault(),!e||!i||!d)return void u("All fields are required");if(d.length<3)return void u("Password must be at least 3 characters long");h(!0),u("");try{let t=await fetch("http://".concat(l,"/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:i,password:d,inventory:[]})}),a=await t.json();"SUCCESS"===a.status&&a.userId?(localStorage.setItem("mealquest_userId",a.userId.toString()),g.push("/home")):u(a.message||"Registration failed")}catch(e){u("Registration failed. Please try again."),console.error(e)}finally{h(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-900",children:(0,a.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-96",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-white",children:"Create Account"}),c&&(0,a.jsx)("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:c}),(0,a.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Username"}),(0,a.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Choose a username",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,disabled:m})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Email"}),(0,a.jsx)("input",{type:"email",value:i,onChange:e=>n(e.target.value),placeholder:"Enter your email",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,disabled:m})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Password"}),(0,a.jsx)("input",{type:"password",value:d,onChange:e=>o(e.target.value),placeholder:"Choose a password",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,minLength:3,disabled:m})]}),(0,a.jsx)("button",{type:"submit",disabled:m,className:"w-full bg-green-600 hover:bg-green-700 text-white p-3 rounded font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsx)("div",{className:"loading-spinner mr-2"}),"Creating account..."]}):"Register"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,a.jsx)("a",{href:"/login",className:"text-blue-400 hover:text-blue-300 underline",children:"Login here"})]})})]})})}}]);