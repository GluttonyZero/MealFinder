(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89683,e=>{"use strict";e.s(["default",()=>n],89683);var t=e.i(47167),a=e.i(43476),r=e.i(71645);let s=e=>{let{onAddIngredient:t,disabled:s=!1}=e,[i,n]=(0,r.useState)(""),[l,o]=(0,r.useState)([]),[d,c]=(0,r.useState)([]),[h,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{m()},[]);let m=async()=>{u(!0);try{let e=await fetch("https://www.themealdb.com/api/json/v1/1/list.php?i=list"),t=await e.json();if(t.meals){let e=t.meals.map(e=>e.strIngredient);c(e)}}catch(e){console.error("Failed to load ingredients:",e)}finally{u(!1)}};return(0,r.useEffect)(()=>{if(!i)return void o([]);o(d.filter(e=>e.toLowerCase().includes(i.toLowerCase())).slice(0,10))},[i,d]),(0,a.jsxs)("div",{className:"mb-4 w-full relative",children:[(0,a.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Search for ingredients...",className:"border border-gray-600 p-3 w-full rounded bg-gray-700 text-white placeholder-gray-400",disabled:s||h}),h&&(0,a.jsx)("div",{className:"absolute right-3 top-3",children:(0,a.jsx)("div",{className:"loading-spinner"})}),l.length>0&&(0,a.jsx)("ul",{className:"absolute z-10 border border-gray-600 bg-gray-800 max-h-40 overflow-y-auto w-full rounded mt-1 shadow-lg",children:l.map(e=>(0,a.jsx)("li",{className:"cursor-pointer hover:bg-gray-700 p-3 text-white border-b border-gray-600 last:border-b-0",onClick:()=>{t(e),n(""),o([])},children:e},e))})]})},i=t.default.env.NEXT_PUBLIC_API_BASE_URL;function n(e){let{user:t,onInventoryChange:n}=e,[l,o]=(0,r.useState)([]),[d,c]=(0,r.useState)(!1),[h,u]=(0,r.useState)("");(0,r.useEffect)(()=>{m()},[t]);let m=async()=>{try{let e=await fetch("http://".concat(i,"/api/users/").concat(t.id,"/inventory"));if(e.ok){let t=await e.json();o(Array.isArray(t)?t:[])}}catch(e){u("Failed to load inventory"),console.error("Failed to load inventory:",e),o([])}},y=async e=>{c(!0),u("");try{let a=await fetch("http://".concat(i,"/api/users/").concat(t.id,"/inventory/add"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();o(Array.isArray(e)?e:[]),null==n||n()}else u("Failed to add ingredient")}catch(e){u("Network error. Please try again."),console.error("Failed to add ingredient:",e)}finally{c(!1)}},g=async e=>{c(!0),u("");try{let a=await fetch("http://".concat(i,"/api/users/").concat(t.id,"/inventory/remove"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();o(Array.isArray(e)?e:[]),null==n||n()}else u("Failed to remove ingredient")}catch(e){u("Network error. Please try again."),console.error("Failed to remove ingredient:",e)}finally{c(!1)}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Your Inventory"}),h&&(0,a.jsx)("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:h}),(0,a.jsx)(s,{onAddIngredient:y,disabled:d}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold mb-3",children:["Current Ingredients (",l.length,")"]}),0===l.length?(0,a.jsx)("div",{className:"text-gray-400 p-4 text-center bg-gray-700 rounded",children:"No ingredients in your inventory yet. Search above to add some!"}):(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:l.map(e=>(0,a.jsxs)("div",{className:"bg-blue-600 text-white px-3 py-2 rounded flex items-center justify-between",children:[(0,a.jsx)("span",{className:"truncate",children:e}),(0,a.jsx)("button",{onClick:()=>g(e),disabled:d,className:"text-red-300 hover:text-white ml-2 disabled:opacity-50",title:"Remove ingredient",children:"âœ•"})]},e))})]}),d&&(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsx)("div",{className:"loading-spinner mx-auto"}),(0,a.jsx)("p",{className:"text-gray-400 mt-2",children:"Updating inventory..."})]})]})}},77833,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(47167),a=e.i(43476),r=e.i(71645),s=e.i(89683);let i=t.default.env.NEXT_PUBLIC_API_BASE_URL;function n(){let[e,t]=(0,r.useState)(null);return((0,r.useEffect)(()=>{fetch("http://".concat(i,"/api/users/1")).then(e=>e.json()).then(e=>t(e))},[]),e)?(0,a.jsxs)("div",{className:"p-8 bg-black min-h-screen",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-4 text-white",children:"Inventory Page"}),(0,a.jsx)(s.default,{user:e})]}):(0,a.jsx)("div",{className:"text-white",children:"Loading..."})}}]);