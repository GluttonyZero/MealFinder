(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},86906,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),a=e.i(71645),r=e.i(18566);function s(){let[e,s]=(0,a.useState)(""),[l,i]=(0,a.useState)(""),[n,d]=(0,a.useState)(""),[o,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(!1),h=(0,r.useRouter)(),g=async t=>{if(t.preventDefault(),!e||!l||!n)return void c("All fields are required");if(n.length<3)return void c("Password must be at least 3 characters long");m(!0),c("");try{let t=await fetch("".concat("https://mealfinder-0tmr.onrender.com","/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,email:l,password:n,inventory:[]})}),a=await t.json();"SUCCESS"===a.status&&a.userId?(localStorage.setItem("mealquest_userId",a.userId.toString()),h.push("/home")):c(a.message||"Registration failed")}catch(e){c("Registration failed. Please try again."),console.error(e)}finally{m(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-900",children:(0,t.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-96",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-white",children:"Create Account"}),o&&(0,t.jsx)("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:o}),(0,t.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Username"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>s(e.target.value),placeholder:"Choose a username",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,disabled:u})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Email"}),(0,t.jsx)("input",{type:"email",value:l,onChange:e=>i(e.target.value),placeholder:"Enter your email",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,disabled:u})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Password"}),(0,t.jsx)("input",{type:"password",value:n,onChange:e=>d(e.target.value),placeholder:"Choose a password",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,minLength:3,disabled:u})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full bg-green-600 hover:bg-green-700 text-white p-3 rounded font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"loading-spinner mr-2"}),"Creating account..."]}):"Register"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,t.jsx)("a",{href:"/login",className:"text-blue-400 hover:text-blue-300 underline",children:"Login here"})]})})]})})}}]);