(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},94542,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),s=e.i(71645),r=e.i(18566);function a(){let[e,a]=(0,s.useState)(""),[l,i]=(0,s.useState)(""),[n,d]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1),u=(0,r.useRouter)(),m=async t=>{t.preventDefault(),c(!0),d("");try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:l})});if(!t.ok)throw Error("Login failed");let s=await t.json();"SUCCESS"===s.status&&s.userId?(localStorage.setItem("mealquest_userId",s.userId.toString()),u.push("/home")):d(s.message||"Invalid credentials")}catch(e){d("Login failed. Please check your credentials."),console.error(e)}finally{c(!1)}};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gray-900",children:(0,t.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg shadow-xl w-96",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6 text-center text-white",children:"MealQuest Login"}),n&&(0,t.jsx)("div",{className:"bg-red-500 text-white p-3 rounded mb-4",children:n}),(0,t.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Username"}),(0,t.jsx)("input",{type:"text",value:e,onChange:e=>a(e.target.value),placeholder:"Enter your username",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,disabled:o})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-300",children:"Password"}),(0,t.jsx)("input",{type:"password",value:l,onChange:e=>i(e.target.value),placeholder:"Enter your password",className:"w-full p-3 border border-gray-600 rounded bg-gray-700 text-white",required:!0,disabled:o})]}),(0,t.jsx)("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 hover:bg-blue-700 text-white p-3 rounded font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:o?(0,t.jsxs)("div",{className:"flex items-center justify-center",children:[(0,t.jsx)("div",{className:"loading-spinner mr-2"}),"Logging in..."]}):"Login"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("p",{className:"text-gray-400",children:["Don't have an account?"," ",(0,t.jsx)("a",{href:"/register",className:"text-blue-400 hover:text-blue-300 underline",children:"Register here"})]})})]})})}}]);